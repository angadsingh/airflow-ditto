

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ditto &mdash; airflow-ditto 0.0.1.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_paramlinks.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ditto.api" href="source/ditto.api.html" />
    <link rel="prev" title="&lt;no title&gt;" href="contents.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="contents.html" class="icon icon-home" alt="Documentation Home"> airflow-ditto
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ditto</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-quick-example">A quick example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-more-complex-example">A more complex example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#full-example-dags">Full example DAGs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#concepts">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transformers">Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resolvers">Resolvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subdag-transformers-and-matchers">SubDag Transformers and Matchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#templates">Templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#api-documentation">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.api.html">ditto.api</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.ditto.html">ditto.ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.rendering.html">ditto.rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.utils.html">ditto.utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#built-in-implementations">Built-in implementations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.matchers.html">ditto.matchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/matchers/ditto.matchers.ClassTaskMatcher.html">ClassTaskMatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/matchers/ditto.matchers.PythonCallTaskMatcher.html">PythonCallTaskMatcher</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.resolvers.html">ditto.resolvers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/resolvers/ditto.resolvers.ClassTransformerResolver.html">ClassTransformerResolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/resolvers/ditto.resolvers.AncestralClassTransformerResolver.html">AncestralClassTransformerResolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/resolvers/ditto.resolvers.PythonCallTransformerResolver.html">PythonCallTransformerResolver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.templates.html">ditto.templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/templates/ditto.templates.EmrHdiDagTransformerTemplate.html">EmrHdiDagTransformerTemplate</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/templates/ditto.templates.CheckClusterEmr2HdiDagTransformerTemplate.html">CheckClusterEmr2HdiDagTransformerTemplate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.transformers.html">ditto.transformers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/ditto.transformers.emr.html">ditto.transformers.emr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrAddStepsOperatorTransformer.html">EmrAddStepsOperatorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrCreateJobFlowOperatorTransformer.html">EmrCreateJobFlowOperatorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrJobFlowSensorTransformer.html">EmrJobFlowSensorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrStepSensorTransformer.html">EmrStepSensorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrTerminateJobFlowOperatorTransformer.html">EmrTerminateJobFlowOperatorTransformer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="source/ditto.transformers.s3.html">ditto.transformers.s3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/s3/ditto.transformers.s3.S3KeySensorAdlsGen1OperatorTransformer.html">S3KeySensorAdlsGen1OperatorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/s3/ditto.transformers.s3.S3KeySensorBlobOperatorTransformer.html">S3KeySensorBlobOperatorTransformer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="source/ditto.transformers.subdag.html">ditto.transformers.subdag</a><ul>
<li class="toctree-l4"><a class="reference internal" href="source/transformers/subdag/ditto.transformers.subdag.CheckClusterSubDagTransformer.html">CheckClusterSubDagTransformer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">airflow-ditto</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="contents.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Ditto</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ditto">
<h1>Ditto<a class="headerlink" href="#ditto" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://travis-ci.com/angadsingh/airflow-ditto"><img alt="Build status" src="https://travis-ci.com/angadsingh/airflow-ditto.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://pypi.org/project/airflow-ditto"><img alt="PyPi version" src="https://img.shields.io/pypi/v/airflow-ditto.svg" /></a>
<a class="reference external image-reference" href="https://pypi.org/project/airflow-ditto"><img alt="Supported versions" src="https://img.shields.io/pypi/pyversions/airflow-ditto.svg" /></a>
<a class="reference external image-reference" href="https://codecov.io/github/angadsingh/airflow-ditto"><img alt="Coverage status" src="https://codecov.io/github/angadsingh/airflow-ditto/coverage.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://pypistats.org/packages/airflow-ditto"><img alt="PyPi downloads" src="https://img.shields.io/pypi/dm/airflow-ditto?label=pip%20installs" /></a>
<p>Ditto is a framework which allows you to do transformations to an Airflow DAG, to convert it into another DAG which is flow-isomorphic with the original DAG. i.e. it will orchestrate a flow of operators which yields the same results, but was just transformed to run in another environment or platform. The framework was built to transform EMR DAGs to run on Azure HDInsight, but you can extend the rich API for any other kind of transformation. In fact you can transform DAGs such that the result is not isomorphic too if you want (although at that point you’re better off writing a whole new DAG).</p>
<p>The purpose of the framework is to allow you to maintain one codebase and be able to run your airflow DAGs on different execution environments (e.g. on different clouds, or even different container frameworks - spark on YARN vs kubernetes). It is not meant for a one-time transformation, but for continuous and parallel DAG deployments, although you can use it for that purpose too.</p>
<p>At the heart, Ditto is a graph manipulation library, which extendable APIs for the actual transformation logic. It does come with out of the box support for EMR to HDInsight transformation though.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">airflow</span><span class="o">-</span><span class="n">ditto</span>
</pre></div>
</div>
</div>
<div class="section" id="a-quick-example">
<h2>A quick example<a class="headerlink" href="#a-quick-example" title="Permalink to this headline">¶</a></h2>
<p>Ditto is created for conveniently transforming a large number of DAGs which follow a similar pattern quickly. Here’s how easy it is to use Ditto:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ditto</span> <span class="o">=</span> <span class="n">ditto</span><span class="o">.</span><span class="n">AirflowDagTransformer</span><span class="p">(</span><span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s1">&#39;transformed_dag&#39;</span><span class="p">,</span>
    <span class="n">default_args</span><span class="o">=</span><span class="n">DEFAULT_DAG_ARGS</span>
<span class="p">),</span> <span class="n">transformer_resolvers</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ClassTransformerResolver</span><span class="p">(</span>
        <span class="p">{</span><span class="n">SlackAPIOperator</span><span class="p">:</span> <span class="n">TestTransformer1</span><span class="p">,</span>
         <span class="n">S3CopyObjectOperator</span><span class="p">:</span> <span class="n">TestTransformer2</span><span class="p">,</span>
         <span class="n">BranchPythonOperator</span><span class="p">:</span> <span class="n">TestTransformer3</span><span class="p">,</span>
         <span class="n">PythonOperator</span><span class="p">:</span> <span class="n">TestTransformer4</span><span class="p">}</span>
    <span class="p">)])</span>

<span class="n">new_dag</span> <span class="o">=</span> <span class="n">ditto</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">original_dag</span><span class="p">)</span>
</pre></div>
</div>
<p>You can put the above call in any python file which is visible to airflow and the resultant dag loads up thanks to how airflow’s dagbag finds DAGs.</p>
</div>
<div class="section" id="a-more-complex-example">
<h2>A more complex example<a class="headerlink" href="#a-more-complex-example" title="Permalink to this headline">¶</a></h2>
<p>This is how you can transform any EMR operator based DAG to an HDInsight operator based DAG (using operators from the <a class="reference external" href="https://gitlab.pinsightmedia.com/telco-dmp/airflow-hdinsight">airflow-hdinsight</a> project):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ditto</span> <span class="o">=</span> <span class="n">ditto</span><span class="o">.</span><span class="n">AirflowDagTransformer</span><span class="p">(</span><span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s1">&#39;HDI_dag&#39;</span><span class="p">,</span>
    <span class="n">default_args</span><span class="o">=</span><span class="n">DEFAULT_DAG_ARGS</span><span class="p">,</span>
    <span class="n">dagrun_timeout</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
    <span class="n">max_active_runs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">schedule_interval</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">transformer_resolvers</span><span class="o">=</span><span class="p">[</span>
        <span class="n">AncestralClassTransformerResolver</span><span class="p">({</span>
            <span class="n">EmrCreateJobFlowOperator</span><span class="p">:</span> <span class="n">EmrCreateJobFlowOperatorTransformer</span><span class="p">,</span>
            <span class="n">EmrJobFlowSensor</span><span class="p">:</span> <span class="n">EmrJobFlowSensorTransformer</span><span class="p">,</span>
            <span class="n">EmrAddStepsOperator</span><span class="p">:</span> <span class="n">EmrAddStepsOperatorTransformer</span><span class="p">,</span>
            <span class="n">EmrStepSensor</span><span class="p">:</span> <span class="n">EmrStepSensorTransformer</span><span class="p">,</span>
            <span class="n">EmrTerminateJobFlowOperator</span><span class="p">:</span> <span class="n">EmrTerminateJobFlowOperatorTransformer</span><span class="p">,</span>
            <span class="n">S3KeySensor</span><span class="p">:</span> <span class="n">S3KeySensorBlobOperatorTransformer</span>
        <span class="p">})],</span>
    <span class="n">transformer_defaults</span><span class="o">=</span><span class="n">TransformerDefaultsConf</span><span class="p">({</span>
        <span class="n">EmrCreateJobFlowOperatorTransformer</span><span class="p">:</span> <span class="n">TransformerDefaults</span><span class="p">(</span>
            <span class="n">default_operator</span><span class="o">=</span><span class="n">create_cluster_op</span>
        <span class="p">),</span>
        <span class="n">CheckClusterSubDagTransformer</span><span class="p">:</span> <span class="n">TransformerDefaults</span><span class="p">(</span>
            <span class="n">default_operator</span><span class="o">=</span><span class="n">create_cluster_op</span><span class="p">)}),</span>
    <span class="n">subdag_transformers</span><span class="o">=</span><span class="p">[</span><span class="n">CheckClusterSubDagTransformer</span><span class="p">],</span>
    <span class="n">debug_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">new_dag</span> <span class="o">=</span> <span class="n">ditto</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">original_dag</span><span class="p">)</span>
</pre></div>
</div>
<p>There’s a lot happening here, but the above example uses (almost) all capabilities of the Ditto API. It finds source operators using a <a class="reference internal" href="source/ditto.api.html#ditto.api.TransformerResolver" title="ditto.api.TransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">resolver</span></code></a> which specifies it’s <a class="reference internal" href="source/ditto.api.html#ditto.api.Transformer" title="ditto.api.Transformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">transformers</span></code></a>, it takes <a class="reference internal" href="source/ditto.api.html#ditto.api.TransformerDefaults.default_operator" title="ditto.api.TransformerDefaults.default_operator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">default</span> <span class="pre">operators</span></code></a>, transforms operators and replaces them with new sub-DAG of operators, uses a <a class="reference internal" href="source/ditto.api.html#ditto.api.SubDagTransformer" title="ditto.api.SubDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDagTransformer</span></code></a> to transform and replaces entire sub-DAG of operators, where the sub-DAGs to be found are found using <a class="reference internal" href="source/ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">matchers</span></code></a> and so on. The above DAG transformation logic is provided out of the box as a <code class="xref py py-mod docutils literal notranslate"><span class="pre">template</span></code>: <a class="reference internal" href="source/templates/ditto.templates.EmrHdiDagTransformerTemplate.html#ditto.templates.EmrHdiDagTransformerTemplate" title="ditto.templates.EmrHdiDagTransformerTemplate"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmrHdiDagTransformerTemplate</span></code></a></p>
<p><em>Source DAG</em> <em>(rendered by ditto)</em></p>
<a class="reference external image-reference" href="README.assets/complex_dag_emr.png"><img alt="Figure_1" src="_images/complex_dag_emr.png" /></a>
<p><em>Transformed DAG</em></p>
<a class="reference external image-reference" href="README.assets/complex_dag_hdi.png"><img alt="Figure_2" src="_images/complex_dag_hdi.png" /></a>
</div>
<div class="section" id="full-example-dags">
<h2>Full example DAGs<a class="headerlink" href="#full-example-dags" title="Permalink to this headline">¶</a></h2>
<p>Two example DAGs are provided which showcase the full capability of Ditto at:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/angadsingh/airflow-ditto/blob/master/examples/example_emr_job_flow_dag.py">examples/example_emr_job_flow_dag.py</a></p></li>
<li><p><a class="reference external" href="https://github.com/angadsingh/airflow-ditto/blob/master/examples/example_emr_job_flow_dag_2.py">examples/example_emr_job_flow_dag_2.py</a></p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="concepts">
<h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="transformers">
<h2>Transformers<a class="headerlink" href="#transformers" title="Permalink to this headline">¶</a></h2>
<p>At the bottom of the abstraction hierarchy of Ditto’s API are <a class="reference internal" href="source/ditto.api.html#ditto.api.Transformer" title="ditto.api.Transformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformers</span></code></a>.  These are the basic nuts and bolts of the system. These are called from Ditto’s core during a transformation to convert the source DAG’s operators to the target DAG’s operators. There are two types of <a class="reference internal" href="source/ditto.api.html#ditto.api.Transformer" title="ditto.api.Transformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformers</span></code></a>: <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer" title="ditto.api.OperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">OperatorTransformer</span></code></a> and <a class="reference internal" href="source/ditto.api.html#ditto.api.SubDagTransformer" title="ditto.api.SubDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDagTransformer</span></code></a>. We’ll talk about the former first, as the latter requires munching up a few more concepts to understand. An example <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer" title="ditto.api.OperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">OperatorTransformer</span></code></a> could look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IAmABasicTransformer</span><span class="p">(</span><span class="n">OperatorTransformer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_operator</span><span class="p">:</span> <span class="n">BaseOperator</span><span class="p">,</span> <span class="n">parent_fragment</span><span class="p">:</span> <span class="n">DAGFragment</span><span class="p">,</span>
                  <span class="n">upstream_fragments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">DAGFragment</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DAGFragment</span><span class="p">:</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">LivyBatchSensor</span><span class="p">(</span>
            <span class="n">batch_id</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
            <span class="n">task_id</span><span class="o">=</span><span class="n">src_operator</span><span class="o">.</span><span class="n">task_id</span><span class="p">,</span>
            <span class="n">azure_conn_id</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
            <span class="n">verify_in</span><span class="o">=</span><span class="s2">&quot;yarn&quot;</span><span class="p">,</span>
            <span class="n">dag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">DAGFragment</span><span class="p">([</span><span class="n">op</span><span class="p">])</span>
</pre></div>
</div>
<p>As you can see, it can access the <code class="docutils literal notranslate"><span class="pre">src_operator</span></code>, choose to copy its fields or do whatever it pleases with it in order to create the target operator. <a class="reference internal" href="source/ditto.api.html#ditto.api.Transformer" title="ditto.api.Transformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformers</span></code></a> return <a class="reference internal" href="source/ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragments</span></code></a>, which represents an intermediate sub-DAG of the target DAG you’re trying to create. <a class="reference internal" href="source/ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragments</span></code></a> can contain one or an entire sub-DAG of operators, and are linked to each other in a graph structure.</p>
<p>Here’s an example of an <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer" title="ditto.api.OperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">OperatorTransformer</span></code></a> which returns a transformed sub-DAG:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IAmASlightlyMoreComplexTransformer</span><span class="p">(</span><span class="n">OperatorTransformer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_operator</span><span class="p">:</span> <span class="n">BaseOperator</span><span class="p">,</span> <span class="n">parent_fragment</span><span class="p">:</span> <span class="n">DAGFragment</span><span class="p">,</span>
                  <span class="n">upstream_fragments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">DAGFragment</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DAGFragment</span><span class="p">:</span>
        <span class="n">tp1</span> <span class="o">=</span> <span class="n">LivyBatchSensor</span><span class="p">(</span>
            <span class="n">batch_id</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
            <span class="n">task_id</span> <span class="o">=</span> <span class="s2">&quot;t2p1&quot;</span><span class="p">,</span>
            <span class="n">azure_conn_id</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="n">src_operator</span><span class="o">.</span><span class="n">dest_bucket_key</span><span class="p">,</span>
            <span class="n">verify_in</span><span class="o">=</span><span class="s2">&quot;yarn&quot;</span><span class="p">,</span>
            <span class="n">dag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span>
        <span class="p">)</span>

        <span class="n">tp2</span> <span class="o">=</span> <span class="n">DummyOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s1">&#39;t2p2&#39;</span><span class="p">,</span> <span class="n">dag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">)</span>
        <span class="n">tp3</span> <span class="o">=</span> <span class="n">DummyOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s1">&#39;t2p3&#39;</span><span class="p">,</span> <span class="n">dag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">)</span>
        <span class="n">tp4</span> <span class="o">=</span> <span class="n">DummyOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s1">&#39;t2p4&#39;</span><span class="p">,</span> <span class="n">dag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">)</span>
        <span class="n">tp5</span> <span class="o">=</span> <span class="n">PythonOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s1">&#39;t2p5&#39;</span><span class="p">,</span> <span class="n">python_callable</span><span class="o">=</span><span class="nb">print</span><span class="p">,</span> <span class="n">dag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">)</span>

        <span class="n">tp1</span> <span class="o">&gt;&gt;</span> <span class="p">[</span><span class="n">tp2</span><span class="p">,</span> <span class="n">tp3</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="n">tp4</span>

        <span class="k">return</span> <span class="n">DAGFragment</span><span class="p">([</span><span class="n">tp1</span><span class="p">,</span> <span class="n">tp5</span><span class="p">])</span>
</pre></div>
</div>
<p>As you can see this returns an entire sub-DAG instead of just one target operator. This <a class="reference internal" href="source/ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a> will replace the <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer.transform.params.src_operator" title="ditto.api.OperatorTransformer.transform"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">src_operator</span></code></a>, at its position in the source DAG, in the target DAG returned by Ditto.</p>
<div class="topic">
<p class="topic-title first">About <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer.transform.params.parent_fragment" title="ditto.api.OperatorTransformer.transform"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">parent_fragment</span></code></a> and <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer.transform.params.upstream_fragments" title="ditto.api.OperatorTransformer.transform"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">upstream_fragments</span></code></a></p>
<p><a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer" title="ditto.api.OperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformers</span></code></a> sometimes need access to transformations of previous upstream transformers. E.g. you created the cluster, but now the add-steps operator needs to know the cluster name or ID, or your step-sensor needs to know the job ID from add-steps. <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer.transform.params.parent_fragment" title="ditto.api.OperatorTransformer.transform"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">parent_fragment</span></code></a> is the <a class="reference internal" href="source/ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragments</span></code></a> of the parent op in the source DAG. You can traverse it using <a class="reference internal" href="source/ditto.utils.html#ditto.utils.TransformerUtils.find_op_in_fragment_list" title="ditto.utils.TransformerUtils.find_op_in_fragment_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_op_in_fragment_list()</span></code></a> or a whole bunch of other utility methods to find a matching parent previously transformed. Similarly, <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer.transform.params.upstream_fragments" title="ditto.api.OperatorTransformer.transform"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">upstream_fragments</span></code></a> contains <em>all</em> the upstream transformed tasks. Think of it as a level-order/BFS traversal, uptil this task, in the target DAG <em>transformed so far</em>.</p>
<p>This is a core part of how Ditto works: it allows transformers to <em>talk to each other</em> while tranforming a DAG. Look at the <a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrStepSensorTransformer.html#ditto.transformers.emr.EmrStepSensorTransformer" title="ditto.transformers.emr.EmrStepSensorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmrStepSensorTransformer</span></code></a> or <a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrAddStepsOperatorTransformer.html#ditto.transformers.emr.EmrAddStepsOperatorTransformer" title="ditto.transformers.emr.EmrAddStepsOperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmrAddStepsOperatorTransformer</span></code></a> to see how this works.</p>
</div>
</div>
<div class="section" id="resolvers">
<h2>Resolvers<a class="headerlink" href="#resolvers" title="Permalink to this headline">¶</a></h2>
<p>Ok, so you made a bunch of cool transformers. But how would Ditto know which one to use for which source operator? That’s where <a class="reference internal" href="source/ditto.api.html#ditto.api.TransformerResolver" title="ditto.api.TransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">Resolvers</span></code></a> come in. As you can see in the examples given at the beginning, when you initialize ditto’s core (<a class="reference internal" href="source/ditto.ditto.html#ditto.ditto.AirflowDagTransformer" title="ditto.ditto.AirflowDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AirflowDagTransformer</span></code></a>), you give it a bunch of resolvers to use. When traversing the source graph, it asks each resolvers to <em>resolve a transformer for that source task</em>. It then uses that <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer" title="ditto.api.OperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformer</span></code></a> to transform that source task. Ditto provides the following <code class="xref py py-mod docutils literal notranslate"><span class="pre">Resolvers</span></code> out of the box, but you can write your own:</p>
<ul class="simple">
<li><p><a class="reference internal" href="source/resolvers/ditto.resolvers.ClassTransformerResolver.html#ditto.resolvers.ClassTransformerResolver" title="ditto.resolvers.ClassTransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassTransformerResolver</span></code></a> : find transformer based on source task’s python class</p></li>
<li><p><a class="reference internal" href="source/resolvers/ditto.resolvers.AncestralClassTransformerResolver.html#ditto.resolvers.AncestralClassTransformerResolver" title="ditto.resolvers.AncestralClassTransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">AncestralClassTransformerResolver</span></code></a> : find transformer based on all the ancestor classes of the source task’s python class</p></li>
<li><p><a class="reference internal" href="source/resolvers/ditto.resolvers.PythonCallTransformerResolver.html#ditto.resolvers.PythonCallTransformerResolver" title="ditto.resolvers.PythonCallTransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">PythonCallTransformerResolver</span></code></a> : match a transformer with an operator if its a <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/operators/python_operator/index.html#airflow.operators.python_operator.PythonOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">airflow.operators.python_operator.PythonOperator</span></code></a> and it’s <code class="docutils literal notranslate"><span class="pre">python_callable</span></code> is calling a specified python method inside. It uses runtime source code parsing to achieve this. This comes handy when you want to transform custom <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/operators/python_operator/index.html#airflow.operators.python_operator.PythonOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PythonOperators</span></code></a> or <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/operators/python_operator/index.html#airflow.operators.python_operator.BranchPythonOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BranchPythonOperators</span></code></a> in the source DAG and match on them.</p></li>
</ul>
</div>
<div class="section" id="subdag-transformers-and-matchers">
<h2>SubDag Transformers and Matchers<a class="headerlink" href="#subdag-transformers-and-matchers" title="Permalink to this headline">¶</a></h2>
<p>This is where Ditto gets serious, if it did not appear so already. Suppose you want to transform entire sub-DAGs of the source DAG and replace them with your own subgraph of operators, and not just match on individual tasks. This is where <a class="reference internal" href="source/ditto.api.html#ditto.api.SubDagTransformer" title="ditto.api.SubDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDagTransformers</span></code></a> come in. This is best explained with an example</p>
<a class="reference external image-reference" href="README.assets/check_cluster_emr_dag.png"><img alt="check_cluster_emr_dag" src="_images/check_cluster_emr_dag.png" /></a>
<p>In this DAG, there’s a pattern we want to match and replace:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">check_for_emr_cluster_op</span> <span class="o">&gt;&gt;</span> <span class="p">[</span><span class="n">create_cluster_op</span><span class="p">,</span> <span class="n">cluster_exists_op</span><span class="p">]</span>
<span class="n">create_cluster_op</span> <span class="o">&gt;&gt;</span> <span class="n">get_cluster_id_op</span>
<span class="n">cluster_exists_op</span> <span class="o">&gt;&gt;</span> <span class="n">get_cluster_id_op</span>
</pre></div>
</div>
<p>The DAG first checks if an EMR cluster exists, creates one if it doesn’t and then with getting the cluster ID for downstream tasks. If we wanted to convert this to an HDInsight DAG, we wouldn’t need this shebang, because <a class="reference external" href="https://airflow-hdinsight.readthedocs.io/en/latest/source/airflowhdi.operators.html#airflowhdi.operators.AzureHDInsightCreateClusterOperator" title="(in airflow-hdinsight)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AzureHDInsightCreateClusterOperator</span></code></a> is idempotent, in that it simply does all of the above inside the operator itself (not explicitly, due to the nature of the HDInsight management API simply ignoring the create call if the cluster already exists). So we can cook up the following <a class="reference internal" href="source/ditto.api.html#ditto.api.SubDagTransformer" title="ditto.api.SubDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDagTransformer</span></code></a> to solve this problem:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CheckClusterSubDagTransformer</span><span class="p">(</span><span class="n">SubDagTransformer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_sub_dag_matcher</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TaskMatcher</span><span class="p">]:</span>
        <span class="n">check_for_emr_cluster_op</span> <span class="o">=</span> <span class="n">PythonCallTaskMatcher</span><span class="p">(</span><span class="n">check_for_existing_emr_cluster</span><span class="p">)</span>
        <span class="n">create_cluster_op</span> <span class="o">=</span> <span class="n">ClassTaskMatcher</span><span class="p">(</span><span class="n">EmrCreateJobFlowOperator</span><span class="p">)</span>
        <span class="n">cluster_exists_op</span> <span class="o">=</span> <span class="n">ClassTaskMatcher</span><span class="p">(</span><span class="n">DummyOperator</span><span class="p">)</span>
        <span class="n">get_cluster_id_op</span> <span class="o">=</span> <span class="n">PythonCallTaskMatcher</span><span class="p">(</span><span class="n">xcom_pull</span><span class="p">)</span>

        <span class="n">check_for_emr_cluster_op</span> <span class="o">&gt;&gt;</span> <span class="p">[</span><span class="n">create_cluster_op</span><span class="p">,</span> <span class="n">cluster_exists_op</span><span class="p">]</span>
        <span class="n">create_cluster_op</span> <span class="o">&gt;&gt;</span> <span class="n">get_cluster_id_op</span>
        <span class="n">cluster_exists_op</span> <span class="o">&gt;&gt;</span> <span class="n">get_cluster_id_op</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">check_for_emr_cluster_op</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subdag</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">,</span> <span class="n">parent_fragment</span><span class="p">:</span> <span class="n">DAGFragment</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DAGFragment</span><span class="p">:</span>
        <span class="n">transformer</span> <span class="o">=</span> <span class="n">EmrCreateJobFlowOperatorTransformer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
            <span class="n">TransformerUtils</span><span class="o">.</span><span class="n">find_matching_tasks</span><span class="p">(</span>
                <span class="n">subdag</span><span class="p">,</span> <span class="n">ClassTaskMatcher</span><span class="p">(</span><span class="n">EmrCreateJobFlowOperator</span><span class="p">))[</span><span class="mi">0</span><span class="p">],</span> <span class="n">parent_fragment</span><span class="p">)</span>
</pre></div>
</div>
<p>The resulting DAG looks like this:</p>
<a class="reference external image-reference" href="README.assets/check_cluster_hdi_dag.png"><img alt="check_cluster_hdi_dag" src="_images/check_cluster_hdi_dag.png" /></a>
<p>This is very powerful. You can provide multiple <a class="reference internal" href="source/ditto.api.html#ditto.api.SubDagTransformer" title="ditto.api.SubDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDagTransformers</span></code></a> to Ditto, each one of them can find a sub-DAG and replace it with their own <a class="reference internal" href="source/ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragments</span></code></a>. The API allows you to declaratively and easily conjure up a <a class="reference internal" href="source/ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskMatcher</span></code></a> DAG which the transformer will find. <a class="reference internal" href="source/ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskMatcher</span></code></a> or just <code class="docutils literal notranslate"><span class="pre">Matchers</span></code> are similar to <a class="reference internal" href="source/ditto.api.html#ditto.api.TransformerResolver" title="ditto.api.TransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">Resolvers</span></code></a>, in that you use them to match on the signature of the operator someway (class-based, python-call-based, or what have you), but they can be expressed as a DAG of <a class="reference internal" href="source/ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">matchers</span></code></a> using the same bitshift assignment you are used to with airflow tasks. Then, behind the scenes, Ditto solves the <a class="reference external" href="https://en.wikipedia.org/wiki/Subgraph_isomorphism_problem">subgraph isomorphism problem</a>, which is an <a class="reference external" href="https://networkx.github.io/documentation/stable/reference/algorithms/isomorphism.vf2.html">NP-complete problem</a>, of finding a sub-DAG inside another DAG (using the <a class="reference internal" href="source/ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">matchers</span></code></a> as the node equivalence functions!). It uses python <a class="reference external" href="https://networkx.github.io/">networkx</a> library to do this (with some jugglery to map airflow DAGs and matcher DAGs to networkx graphs and so on). See <a class="reference internal" href="source/ditto.utils.html#ditto.utils.TransformerUtils.find_sub_dag" title="ditto.utils.TransformerUtils.find_sub_dag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_sub_dag()</span></code></a> for more details.</p>
<p>Here’s a more complex example, where the matching sub-DAG is <code class="docutils literal notranslate"><span class="pre">[Matcher(op2,op6),</span> <span class="pre">Matcher(op3,op7)]</span> <span class="pre">&gt;&gt;</span> <span class="pre">Matcher(op4,op8)</span></code>and the resultant sub-DAG has 5 nodes.</p>
<a class="reference external image-reference" href="README.assets/complex_subdag_transformer_src_dag.png"><img alt="complex_subdag_transformer_src_dag" src="_images/complex_subdag_transformer_src_dag.png" /></a>
<a class="reference external image-reference" href="README.assets/complex_subdag_transformer_target_dag.png"><img alt="complex_subdag_transformer_target_dag" src="_images/complex_subdag_transformer_target_dag.png" /></a>
</div>
<div class="section" id="templates">
<h2>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h2>
<p>Templates are nothing but a configuration of <a class="reference internal" href="source/ditto.api.html#ditto.api.OperatorTransformer" title="ditto.api.OperatorTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">OperatorTransformers</span></code></a>, <a class="reference internal" href="source/ditto.api.html#ditto.api.TransformerResolver" title="ditto.api.TransformerResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">Resolvers</span></code></a>, <a class="reference internal" href="source/ditto.api.html#ditto.api.SubDagTransformer" title="ditto.api.SubDagTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDagTransformers</span></code></a> and their <a class="reference internal" href="source/ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matchers</span></code></a> stitched together with some defaults. You can then reuse templates to transform several DAGs at different places. Templates bring it all together for you to use Ditto conveniently.</p>
</div>
</div>
<div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.api.html">ditto.api</a></li>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.ditto.html">ditto.ditto</a></li>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.rendering.html">ditto.rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.utils.html">ditto.utils</a></li>
</ul>
</div>
</div>
<div class="section" id="built-in-implementations">
<h1>Built-in implementations<a class="headerlink" href="#built-in-implementations" title="Permalink to this headline">¶</a></h1>
<p>Here are some of the built-in implementations of Ditto’s API constructs available out of the box. You can find documentation of how each of them behave and work inside their python docstrings themselves.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.matchers.html">ditto.matchers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source/matchers/ditto.matchers.ClassTaskMatcher.html">ClassTaskMatcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/matchers/ditto.matchers.PythonCallTaskMatcher.html">PythonCallTaskMatcher</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.resolvers.html">ditto.resolvers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source/resolvers/ditto.resolvers.ClassTransformerResolver.html">ClassTransformerResolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/resolvers/ditto.resolvers.AncestralClassTransformerResolver.html">AncestralClassTransformerResolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/resolvers/ditto.resolvers.PythonCallTransformerResolver.html">PythonCallTransformerResolver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.templates.html">ditto.templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source/templates/ditto.templates.EmrHdiDagTransformerTemplate.html">EmrHdiDagTransformerTemplate</a></li>
<li class="toctree-l2"><a class="reference internal" href="source/templates/ditto.templates.CheckClusterEmr2HdiDagTransformerTemplate.html">CheckClusterEmr2HdiDagTransformerTemplate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="source/ditto.transformers.html">ditto.transformers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.transformers.emr.html">ditto.transformers.emr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrAddStepsOperatorTransformer.html">EmrAddStepsOperatorTransformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrCreateJobFlowOperatorTransformer.html">EmrCreateJobFlowOperatorTransformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrJobFlowSensorTransformer.html">EmrJobFlowSensorTransformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrStepSensorTransformer.html">EmrStepSensorTransformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/emr/ditto.transformers.emr.EmrTerminateJobFlowOperatorTransformer.html">EmrTerminateJobFlowOperatorTransformer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.transformers.s3.html">ditto.transformers.s3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/s3/ditto.transformers.s3.S3KeySensorAdlsGen1OperatorTransformer.html">S3KeySensorAdlsGen1OperatorTransformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/s3/ditto.transformers.s3.S3KeySensorBlobOperatorTransformer.html">S3KeySensorBlobOperatorTransformer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="source/ditto.transformers.subdag.html">ditto.transformers.subdag</a><ul>
<li class="toctree-l3"><a class="reference internal" href="source/transformers/subdag/ditto.transformers.subdag.CheckClusterSubDagTransformer.html">CheckClusterSubDagTransformer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="source/ditto.api.html" class="btn btn-neutral float-right" title="ditto.api" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="contents.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Angad Singh

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>