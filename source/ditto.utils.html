

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ditto.utils &mdash; airflow-ditto 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ditto.matchers" href="ditto.matchers.html" />
    <link rel="prev" title="ditto.rendering" href="ditto.rendering.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../contents.html" class="icon icon-home" alt="Documentation Home"> airflow-ditto
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Ditto</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../index.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#a-quick-example">A quick example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#a-more-complex-example">A more complex example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#full-example-dags">Full example DAGs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#concepts">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../index.html#transformers">Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#resolvers">Resolvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#subdag-transformers-and-matchers">SubDag Transformers and Matchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#templates">Templates</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html#api-documentation">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ditto.api.html">ditto.api</a></li>
<li class="toctree-l2"><a class="reference internal" href="ditto.ditto.html">ditto.ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="ditto.rendering.html">ditto.rendering</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ditto.utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#built-in-implementations">Built-in implementations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ditto.matchers.html">ditto.matchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="matchers/ditto.matchers.ClassTaskMatcher.html">ClassTaskMatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="matchers/ditto.matchers.PythonCallTaskMatcher.html">PythonCallTaskMatcher</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ditto.resolvers.html">ditto.resolvers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="resolvers/ditto.resolvers.ClassTransformerResolver.html">ClassTransformerResolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="resolvers/ditto.resolvers.AncestralClassTransformerResolver.html">AncestralClassTransformerResolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="resolvers/ditto.resolvers.PythonCallTransformerResolver.html">PythonCallTransformerResolver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ditto.templates.html">ditto.templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="templates/ditto.templates.EmrHdiDagTransformerTemplate.html">EmrHdiDagTransformerTemplate</a></li>
<li class="toctree-l3"><a class="reference internal" href="templates/ditto.templates.CheckClusterEmr2HdiDagTransformerTemplate.html">CheckClusterEmr2HdiDagTransformerTemplate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ditto.transformers.html">ditto.transformers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ditto.transformers.emr.html">ditto.transformers.emr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transformers/emr/ditto.transformers.emr.EmrAddStepsOperatorTransformer.html">EmrAddStepsOperatorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="transformers/emr/ditto.transformers.emr.EmrCreateJobFlowOperatorTransformer.html">EmrCreateJobFlowOperatorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="transformers/emr/ditto.transformers.emr.EmrJobFlowSensorTransformer.html">EmrJobFlowSensorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="transformers/emr/ditto.transformers.emr.EmrStepSensorTransformer.html">EmrStepSensorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="transformers/emr/ditto.transformers.emr.EmrTerminateJobFlowOperatorTransformer.html">EmrTerminateJobFlowOperatorTransformer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ditto.transformers.s3.html">ditto.transformers.s3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transformers/s3/ditto.transformers.s3.S3KeySensorAdlsGen1OperatorTransformer.html">S3KeySensorAdlsGen1OperatorTransformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="transformers/s3/ditto.transformers.s3.S3KeySensorBlobOperatorTransformer.html">S3KeySensorBlobOperatorTransformer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ditto.transformers.subdag.html">ditto.transformers.subdag</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transformers/subdag/ditto.transformers.subdag.CheckClusterSubDagTransformer.html">CheckClusterSubDagTransformer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">airflow-ditto</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Ditto</a> &raquo;</li>
        
      <li>ditto.utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/ditto.utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ditto.utils">
<span id="ditto-utils"></span><h1>ditto.utils<a class="headerlink" href="#module-ditto.utils" title="Permalink to this headline">Â¶</a></h1>
<dl class="py class">
<dt id="ditto.utils.TransformerUtils">
<em class="property">class </em><code class="sig-prename descclassname">ditto.utils.</code><code class="sig-name descname">TransformerUtils</code><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ditto.utils.TransformerUtils.get_list_index_from_xcom_pull">
<em class="property">static </em><code class="sig-name descname">get_list_index_from_xcom_pull</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xcom_template</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.get_list_index_from_xcom_pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.get_list_index_from_xcom_pull" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parses an airflow template variable and finds the list index accessed
from the return value of an <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.TaskInstance.xcom_pull" title="(in Airflow v1.10.10)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">xcom_pull()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">task_instance</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="s2">&quot;add_steps_to_cluster&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;return_value&quot;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">    will return &quot;3&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{{</span> <span class="n">ti</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="s2">&quot;add_steps_to_cluster&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;return_value&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="p">}}</span>
<span class="go">    will return &quot;2&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="ditto.utils.TransformerUtils.get_list_index_from_xcom_pull.params.xcom_template"></span><strong>xcom_template</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.get_list_index_from_xcom_pull.params.xcom_template">Â¶</a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) â€“ airflow template string to parse</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list index accessed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.get_task_id_from_xcom_pull">
<em class="property">static </em><code class="sig-name descname">get_task_id_from_xcom_pull</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xcom_template</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.get_task_id_from_xcom_pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.get_task_id_from_xcom_pull" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parses an airflow template variable and finds the task ID
from which an <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.TaskInstance.xcom_pull" title="(in Airflow v1.10.10)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">xcom_pull()</span></code></a> is being done</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{{</span> <span class="n">ti</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="s2">&quot;add_steps_to_cluster&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;return_value&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="p">}}</span>
<span class="go">    will return &quot;add_steps_to_cluster&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{{</span> <span class="n">task_instance</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="n">task_ids</span><span class="o">=</span><span class="s1">&#39;add_steps&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;return_value&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="p">}}</span>
<span class="go">    will return &quot;add_steps&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="ditto.utils.TransformerUtils.get_task_id_from_xcom_pull.params.xcom_template"></span><strong>xcom_template</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.get_task_id_from_xcom_pull.params.xcom_template">Â¶</a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) â€“ airflow template string to parse</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the task_id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.add_downstream_dag_fragment">
<em class="property">static </em><code class="sig-name descname">add_downstream_dag_fragment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fragment_up</span></em>, <em class="sig-param"><span class="n">fragment_down</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.add_downstream_dag_fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.add_downstream_dag_fragment" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Attaches the roots of the <cite>fragment_down</cite> to the leaves of <cite>fragment_up</cite>,</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The leaves of <cite>fragment_up</cite> are found by traversing its operator DAG, not
its <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a> dag. This does not join fragment DAGS but
only operator DAGS in two <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>â€™s</p>
<p>See the documentation of <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a> for understanding
what that means.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.add_downstream_dag_fragment.params.fragment_up"></span><strong>fragment_up</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.add_downstream_dag_fragment.params.fragment_up">Â¶</a> (<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>) â€“ the upstream <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a> to which <cite>fragment_down</cite>
has to be added</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.add_downstream_dag_fragment.params.fragment_down"></span><strong>fragment_down</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.add_downstream_dag_fragment.params.fragment_down">Â¶</a> (<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>) â€“ the downstream <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain">
<em class="property">classmethod </em><code class="sig-name descname">find_op_in_parent_fragment_chain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent_fragment</span></em>, <em class="sig-param"><span class="n">operator_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">task_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.find_op_in_parent_fragment_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Finds the operator matched by the <cite>operator_type</cite> class and having task ID <cite>task_id</cite>
in the passed linked-list referenced by the <cite>parent_fragment</cite> <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a></p>
<p>Uses the <a class="reference internal" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment" title="ditto.utils.TransformerUtils.find_op_in_dag_fragment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_op_in_dag_fragment()</span></code></a> for understanding
how the search is done.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain.params.parent_fragment"></span><strong>parent_fragment</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain.params.parent_fragment">Â¶</a> (<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>) â€“ See <a class="reference internal" href="ditto.api.html#ditto.api.OperatorTransformer.transform.params.parent_fragment" title="ditto.api.OperatorTransformer.transform"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">parent_fragment</span></code></a></p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain.params.operator_type"></span><strong>operator_type</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain.params.operator_type">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>]]) â€“ the type of operator to find</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain.params.task_id"></span><strong>task_id</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_parent_fragment_chain.params.task_id">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) â€“ the task_id of the operator to find</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the operator found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.find_op_in_fragment_list">
<em class="property">classmethod </em><code class="sig-name descname">find_op_in_fragment_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fragment_list</span></em>, <em class="sig-param"><span class="n">operator_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">task_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.find_op_in_fragment_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Lenient version of <a class="reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list_strict" title="ditto.utils.TransformerUtils.find_op_in_fragment_list_strict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_op_in_fragment_list_strict()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_fragment_list.params.fragment_list"></span><strong>fragment_list</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list.params.fragment_list">Â¶</a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>]) â€“ the list of <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>â€™s to search in</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_fragment_list.params.operator_type"></span><strong>operator_type</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list.params.operator_type">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>]]) â€“ the type of operator to find</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_fragment_list.params.task_id"></span><strong>task_id</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list.params.task_id">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) â€“ the task_id of the operator to find</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the operator found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.find_op_in_fragment_list_strict">
<em class="property">classmethod </em><code class="sig-name descname">find_op_in_fragment_list_strict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fragment_list</span></em>, <em class="sig-param"><span class="n">operator_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">task_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.find_op_in_fragment_list_strict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list_strict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Uses <a class="reference internal" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment" title="ditto.utils.TransformerUtils.find_op_in_dag_fragment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_op_in_dag_fragment()</span></code></a> to find
an operator in a list of <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>â€™s</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_fragment_list_strict.params.fragment_list"></span><strong>fragment_list</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list_strict.params.fragment_list">Â¶</a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>]) â€“ the list of <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>â€™s to search in</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_fragment_list_strict.params.operator_type"></span><strong>operator_type</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list_strict.params.operator_type">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>]]) â€“ the type of operator to find</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_fragment_list_strict.params.task_id"></span><strong>task_id</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_fragment_list_strict.params.task_id">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) â€“ the task_id of the operator to find</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the operator found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.find_op_in_dag_fragment">
<em class="property">static </em><code class="sig-name descname">find_op_in_dag_fragment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dag_fragment</span></em>, <em class="sig-param"><span class="n">operator_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">task_id</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upstream</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.find_op_in_dag_fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Traverses the operator dag of the given <a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>
and finds a <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a> matching the given <cite>operator_type</cite>
and <cite>task_id</cite>. First matches using the <cite>operator_type</cite> and subsequently using the
<cite>task_id</cite>. Can search upstream or downstream of the tasks in the given
<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.dag_fragment"></span><strong>dag_fragment</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.dag_fragment">Â¶</a> (<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>) â€“ fragment whose operator dag has to be searched</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.operator_type"></span><strong>operator_type</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.operator_type">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>]]) â€“ the type of operator to find</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.task_id"></span><strong>task_id</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.task_id">Â¶</a> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) â€“ the task_id of the operator to find</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.upstream"></span><strong>upstream</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_op_in_dag_fragment.params.upstream">Â¶</a> â€“ search upstream if <cite>True</cite> otherwise search <cite>downstream</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the operator found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.get_digraph_from_airflow_dag">
<em class="property">static </em><code class="sig-name descname">get_digraph_from_airflow_dag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dag</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.get_digraph_from_airflow_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.get_digraph_from_airflow_dag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Construct a <a class="reference external" href="https://networkx.github.io/documentation/stable/reference/classes/digraph.html#networkx.DiGraph" title="(in NetworkX v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a> from the given airflow <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="ditto.utils.TransformerUtils.get_digraph_from_airflow_dag.params.dag"></span><strong>dag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.get_digraph_from_airflow_dag.params.dag">Â¶</a> (<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/dag/index.html#airflow.models.dag.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a>) â€“ the airflow DAG</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the networkx DiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.get_digraph_from_matcher_dag">
<em class="property">static </em><code class="sig-name descname">get_digraph_from_matcher_dag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">matcher_roots</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.get_digraph_from_matcher_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.get_digraph_from_matcher_dag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Construct a <a class="reference external" href="https://networkx.github.io/documentation/stable/reference/classes/digraph.html#networkx.DiGraph" title="(in NetworkX v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a> from the given <a class="reference internal" href="ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskMatcher</span></code></a> dag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="ditto.utils.TransformerUtils.get_digraph_from_matcher_dag.params.dag"></span><strong>dag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.get_digraph_from_matcher_dag.params.dag">Â¶</a> â€“ the matcher DAG</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the networkx DiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.find_sub_dag">
<em class="property">classmethod </em><code class="sig-name descname">find_sub_dag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dag</span></em>, <em class="sig-param"><span class="n">matcher_roots</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.find_sub_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.find_sub_dag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The problem is to find a sub-DAG in a DAG where the sub-DAGâ€™s nodes are
matcher functions which test nodes</p>
<p>It can be generalized to: find if a DAG or DiGraph G1 is isomorphic with
a DAG G2, with the node comparison function being running of the matchers in G1
on nodes in G2</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This uses pythonâ€™s NetworkX graph library which uses the
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/algorithms/isomorphism.vf2.html">VF2</a>
algorithm for <a class="reference external" href="https://ieeexplore.ieee.org/document/1323804">graph isomorphism</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We are trying to find an exact sub-DAG match. In graph theory, this is called a
<a class="reference external" href="https://math.stackexchange.com/questions/1013143/difference-between-a-sub-graph-and-induced-sub-graph">node-induced</a>
subgraph. A subgraph ğ» of ğº is called INDUCED, if for any two vertices
ğ‘¢,ğ‘£ in ğ», ğ‘¢ and ğ‘£ are adjacent in ğ» if and only if they are adjacent in ğº.
In other words, ğ» has the same edges as ğº between the vertices in ğ».</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>This is an NP-complete problem: <a class="reference external" href="https://en.wikipedia.org/wiki/Subgraph_isomorphism_problem">https://en.wikipedia.org/wiki/Subgraph_isomorphism_problem</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_sub_dag.params.task"></span><strong>task</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_sub_dag.params.task">Â¶</a> â€“ the DAG where the sub-dag has to be found</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_sub_dag.params.matcher"></span><strong>matcher</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_sub_dag.params.matcher">Â¶</a> â€“ the root task matcher of the [TaskMatcher] dag</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple containing the <a class="reference external" href="https://networkx.github.io/documentation/stable/reference/classes/digraph.html#networkx.DiGraph" title="(in NetworkX v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a> of the souce DAG
and the list of matching subdag <a class="reference external" href="https://networkx.github.io/documentation/stable/reference/classes/digraph.html#networkx.DiGraph" title="(in NetworkX v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a>â€™s</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.remove_task_from_dag">
<em class="property">static </em><code class="sig-name descname">remove_task_from_dag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dag</span></em>, <em class="sig-param"><span class="n">dag_nodes</span></em>, <em class="sig-param"><span class="n">task</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.remove_task_from_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.remove_task_from_dag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Removes the given list of <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>â€™s from the given
<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.remove_task_from_dag.params.dag"></span><strong>dag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.remove_task_from_dag.params.dag">Â¶</a> (<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/dag/index.html#airflow.models.dag.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a>) â€“ the source airflow DAG</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.remove_task_from_dag.params.dag_nodes"></span><strong>dag_nodes</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.remove_task_from_dag.params.dag_nodes">Â¶</a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>]) â€“ the list of nodes in the source DAG</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.remove_task_from_dag.params.task"></span><strong>task</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.remove_task_from_dag.params.task">Â¶</a> (<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>) â€“ the task to remove</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.find_matching_tasks">
<em class="property">classmethod </em><code class="sig-name descname">find_matching_tasks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subdag</span></em>, <em class="sig-param"><span class="n">matcher</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.find_matching_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.find_matching_tasks" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Find matching tasks in a <a class="reference external" href="https://networkx.github.io/documentation/stable/reference/classes/digraph.html#networkx.DiGraph" title="(in NetworkX v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code></a> of operators</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_matching_tasks.params.subdag"></span><strong>subdag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_matching_tasks.params.subdag">Â¶</a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiGraph</span></code>) â€“ the dag to search for matches</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.find_matching_tasks.params.matcher"></span><strong>matcher</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.find_matching_tasks.params.matcher">Â¶</a> (<a class="reference internal" href="ditto.api.html#ditto.api.TaskMatcher" title="ditto.api.TaskMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskMatcher</span></code></a>) â€“ the task matcher to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matching nodes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.assign_task_to_dag">
<em class="property">static </em><code class="sig-name descname">assign_task_to_dag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">dag</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.assign_task_to_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.assign_task_to_dag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Assigns the given <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a> and all its downstream
tasks to the given <a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/index.html#airflow.models.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.assign_task_to_dag.params.op"></span><strong>op</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.assign_task_to_dag.params.op">Â¶</a> (<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/baseoperator/index.html#airflow.models.baseoperator.BaseOperator" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperator</span></code></a>) â€“ the task to assign</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.assign_task_to_dag.params.dag"></span><strong>dag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.assign_task_to_dag.params.dag">Â¶</a> (<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/dag/index.html#airflow.models.dag.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a>) â€“ the dag to assign the task and its downstream to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ditto.utils.TransformerUtils.add_dag_fragment_to_dag">
<em class="property">classmethod </em><code class="sig-name descname">add_dag_fragment_to_dag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dag</span></em>, <em class="sig-param"><span class="n">frag</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ditto/utils.html#TransformerUtils.add_dag_fragment_to_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ditto.utils.TransformerUtils.add_dag_fragment_to_dag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Traverses and assigns all the tasks in this fragment
to the given DAG using <a class="reference internal" href="#ditto.utils.TransformerUtils.assign_task_to_dag" title="ditto.utils.TransformerUtils.assign_task_to_dag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assign_task_to_dag()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="ditto.utils.TransformerUtils.add_dag_fragment_to_dag.params.dag"></span><strong>dag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.add_dag_fragment_to_dag.params.dag">Â¶</a> (<a class="reference external" href="https://airflow.apache.org/docs/stable/_api/airflow/models/dag/index.html#airflow.models.dag.DAG" title="(in Airflow v1.10.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAG</span></code></a>) â€“ the dag to assign the fragmentâ€™s tasks to</p></li>
<li><p><span class="target" id="ditto.utils.TransformerUtils.add_dag_fragment_to_dag.params.frag"></span><strong>frag</strong><a class="paramlink headerlink reference internal" href="#ditto.utils.TransformerUtils.add_dag_fragment_to_dag.params.frag">Â¶</a> (<a class="reference internal" href="ditto.api.html#ditto.api.DAGFragment" title="ditto.api.DAGFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAGFragment</span></code></a>) â€“ the dag fragment to assign</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ditto.matchers.html" class="btn btn-neutral float-right" title="ditto.matchers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ditto.rendering.html" class="btn btn-neutral float-left" title="ditto.rendering" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Angad Singh

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>